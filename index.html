<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hoop Stress (ASME B31.8) — Minimal Hesap</title>
<style>
  :root{
    --bg:#f6f7f9; --card:#fff; --ink:#0f172a; --muted:#6b7280;
    --accent:#2563eb; --ok:#16a34a; --warn:#b45309; --bad:#b91c1c;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--ink)}
  .wrap{max-width:1080px;margin:24px auto;padding:0 20px;display:grid;gap:16px}
  h1{font-size:22px;margin:0 0 6px}
  .sub{color:var(--muted);margin:0 0 12px}
  .grid{display:grid;grid-template-columns:1.25fr 1fr;gap:16px}
  .card{background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:18px}
  label{font-size:13px;display:block;margin-bottom:6px}
  input,select{width:100%;padding:12px 14px;border:1px solid #d7dbe2;border-radius:12px;font-size:15px;background:#fff}
  input:focus,select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(37,99,235,.15)}
  .row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
  .row2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}
  .btn{padding:12px 16px;border:0;border-radius:12px;background:#111;color:#fff;font-weight:600;cursor:pointer}
  .kv{display:flex;justify-content:space-between;padding:9px 0;border-bottom:1px dashed #e5e7eb}
  .kv:last-child{border-bottom:0}
  .ratio{font-weight:700}
  .ok{color:var(--ok)} .warn{color:var(--warn)} .bad{color:var(--bad)}
  .hint{font-size:12px;color:var(--muted);margin-top:6px}
  @media (max-width:980px){ .grid{grid-template-columns:1fr} .row{grid-template-columns:repeat(2,1fr)} }
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Hoop Stress Hesabı — ASME B31.8</h1>
    <p class="sub">Seçili dış çap (inç) → <b>mm</b>’ye çevrilir. Hesap: <b>S<sub>H</sub> = P·D / (2·t)</b>. Son olarak <b>S<sub>H</sub>/SMYS</b> oranını verir.</p>
    <div class="grid">
      <!-- Sol panel: giriş -->
      <div class="card">
        <div class="row">
          <div>
            <label>Outside Diameter (inç)</label>
            <select id="size">
              <option value="56">56"</option>
              <option value="48">48"</option>
              <option value="36">36"</option>
            </select>
          </div>
          <div>
            <label>Basınç P (MPa)</label>
            <input id="P" type="number" step="0.01" value="9.55" />
          </div>
          <div>
            <label>Et Kalınlığı t (mm)</label>
            <input id="t" type="number" step="0.01" value="19.45" />
          </div>
          <div>
            <label>SMYS S (MPa)</label>
            <input id="S" type="number" step="1" value="485" />
          </div>
        </div>
        <div style="margin-top:12px"><button class="btn" id="calc">Hesapla</button></div>
        <p class="hint">Not: D = (Outside Diameter inç) × 25.4 (mm). P ve S MPa, t ve D mm alınır → sonuç S<sub>H</sub> MPa.</p>
      </div>

      <!-- Sağ panel: sonuç -->
      <div class="card">
        <div class="kv"><span>D (mm)</span><strong id="Dmm">—</strong></div>
        <div class="kv"><span>Hoop Stress S<sub>H</sub> (MPa)</span><strong id="SH">—</strong></div>
        <div class="kv"><span>Oran S<sub>H</sub>/SMYS</span><strong id="ratio" class="ratio">—</strong></div>
        <div class="kv"><span>Formül</span><span class="hint">S<sub>H</sub> = P·D / (2·t)</span></div>
      </div>
    </div>
  </div>
</div>

<script>
  const el = id => document.getElementById(id);
  const size = el('size'), P = el('P'), t = el('t'), S = el('S');
  const DmmOut = el('Dmm'), SHOut = el('SH'), ratioOut = el('ratio');

  function fmt(v, d=2){ return isFinite(v) ? v.toFixed(d) : '—'; }

  function compute(){
    const inches = parseFloat(size.value);
    const Dmm = inches * 25.4;               // mm
    const Pmpa = parseFloat(P.value);        // MPa
    const tmm  = parseFloat(t.value);        // mm
    const Smys = parseFloat(S.value);        // MPa

    if([inches,Pmpa,tmm,Smys].some(x => !isFinite(x) || x<=0)){
      DmmOut.textContent = SHOut.textContent = ratioOut.textContent = '—';
      ratioOut.className = 'ratio'; return;
    }

    // SH = P * D / (2*t)  -> MPa
    const SH = (Pmpa * Dmm) / (2 * tmm);
    const ratio = SH / Smys;

    DmmOut.textContent = fmt(Dmm, 1);
    SHOut.textContent  = fmt(SH, 2);
    ratioOut.textContent = fmt(ratio, 2);

    // Basit renk kodu (opsiyonel eşikler)
    ratioOut.className = 'ratio ' + (ratio < 0.6 ? 'ok' : (ratio < 0.72 ? 'warn' : 'bad'));
  }

  el('calc').addEventListener('click', compute);
  // İlk render
  compute();
</script>
</body>
</html>
